/*
 *  sneakers.js - v1.0.0
 *  jQuery plugin that simulates a tty typing and decryption effect.
 *  https://github.com/mar10/sneakers.js
 *
 *  Made by Martin Wendt
 *  Under MIT License
 */
!function(a,b,c,d){"use strict";function e(a){return/\s/.test(a)?a:h[Math.floor(i*Math.random())]}function f(a){for(var b="",c=0,d=a.length;c<d;c++)b+=e(a[c]);return b}function g(b,c){this.element=b,this.$element=a(b),this.settings=a.extend({},k,c),this._defaults=k,this._name=j,this.originalText=null,this.currentText=null,this.init()}var h="!\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",i=h.length,j="sneakers",k={typeMs:5,decodeMs:50,maxDecode:1e3,stopEps:.05,lockSize:!1,start:a.noop,type:a.noop,done:a.noop};a.extend(g.prototype,{init:function(){var a=this;this.encode(),this.settings.start.call(this.element),this.type(this.currentText,0).done(function(){a.settings.type.call(a.element),a.decrypt(a.settings.maxDecode).done(function(){a.settings.done.call(a.element)})})},encode:function(){var a=this.$element,b=this.settings;this.originalText=a.text(),b.decodeMs>0?this.currentText=f(this.originalText):this.currentText=this.originalText,this.settings.lockSize&&a.css({height:a.css("height"),width:a.css("width")}),a.text(b.typeMs?"":this.currentText),a.show()},type:function(b,c,d,e){var f,g,h=Date.now(),i=d||new a.Deferred,j=this;return this.settings.typeMs&&c<b.length?(g=1,e&&(f=h-e,g=Math.floor(f/this.settings.typeMs)),this.$element.append(b.substr(c,g)),setTimeout(function(){j.type.call(j,b,c+g,i,h)},this.settings.typeMs)):(this.$element.text(b),i.resolve()),d?null:i.promise()},decrypt:function(b,c){var d,f,g=c||new a.Deferred,h=this,i=0,j=this.originalText,k=this.currentText,l=k.length,m="";if(b>0){for(f=0;f<l;f++)d=k[f],d===j[f]?m+=d:(i+=1,m+=e(d));i/l<this.settings.stopEps?(this.currentText=j,i=0):this.currentText=m}else this.currentText=j;return this.$element.text(this.currentText),i>0?setTimeout(function(){h.decrypt.call(h,b-1,g)},this.settings.decodeMs):g.resolve(),c?null:g.promise()}}),a.fn[j]=function(b){return this.each(function(){a.data(this,"plugin_"+j)||a.data(this,"plugin_"+j,new g(this,b))})}}(jQuery,window,document);